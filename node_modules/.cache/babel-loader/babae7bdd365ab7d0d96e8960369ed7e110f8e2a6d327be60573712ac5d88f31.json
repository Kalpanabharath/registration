{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Registration=()=>{const[users,setUsers]=useState([]);const navigate=useNavigate();const DisplayDetails=id=>{navigate(\"/user/view/\"+id);};const editDetails=id=>{navigate(\"/user/edit/\"+id);};const removedetail=id=>{if(window.confirm(\"Are you sure you want to delete?\")){fetch(`http://localhost:8000/students/${id}`,{method:\"DELETE\"}).then(()=>{setUsers(users.filter(user=>user.id!==id));// Update state to remove deleted user\nconsole.log(\"User deleted successfully\");}).catch(err=>console.log(err.message));}};useEffect(()=>{fetch(\"http://localhost:8000/students\").then(res=>{if(!res.ok){throw new Error(`HTTP error! status: ${res.status}`);}return res.json();}).then(data=>setUsers(data)).catch(err=>console.log(\"Fetch error: \",err.message));},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Registration Application\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-container\",children:[/*#__PURE__*/_jsx(Link,{to:\"/user/create\",className:\"btn btn-add\",children:\"Add new Student\"}),users.length===0?/*#__PURE__*/_jsxs(\"p\",{children:[\"No users found. \",/*#__PURE__*/_jsx(Link,{to:\"/user/create\",children:\"Add a User\"})]}):/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date of Birth\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.dateOfBirth}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info\",onClick:()=>DisplayDetails(user.id),children:\"View\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>editDetails(user.id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>removedetail(user.id),children:\"Delete\"})]})]},user.id))})]})]})]});};export default Registration;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Registration","users","setUsers","navigate","DisplayDetails","id","editDetails","removedetail","window","confirm","fetch","method","then","filter","user","console","log","catch","err","message","res","ok","Error","status","json","data","className","children","to","length","map","name","email","dateOfBirth","onClick"],"sources":["C:/kalpana/registration/src/Registration.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nconst Registration = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  const DisplayDetails = (id) => {\r\n    navigate(\"/user/view/\" + id);\r\n  };\r\n  const editDetails = (id) => {\r\n    navigate(\"/user/edit/\" + id);\r\n  };\r\n  const removedetail = (id) => {\r\n    if (window.confirm(\"Are you sure you want to delete?\")) {\r\n      fetch(`http://localhost:8000/students/${id}`, {\r\n        method: \"DELETE\",\r\n      })\r\n        .then(() => {\r\n          setUsers(users.filter((user) => user.id !== id)); // Update state to remove deleted user\r\n          console.log(\"User deleted successfully\");\r\n        })\r\n        .catch((err) => console.log(err.message));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:8000/students\")\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw new Error(`HTTP error! status: ${res.status}`);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => setUsers(data))\r\n      .catch((err) => console.log(\"Fetch error: \", err.message));\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Registration Application</h2>\r\n      <div className=\"table-container\">\r\n        <Link to=\"/user/create\" className=\"btn btn-add\">\r\n          Add new Student\r\n        </Link>\r\n\r\n        {users.length === 0 ? (\r\n          <p>\r\n            No users found. <Link to=\"/user/create\">Add a User</Link>\r\n          </p>\r\n        ) : (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Name</th>\r\n                <th>Email</th>\r\n                <th>Date of Birth</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {users.map((user) => (\r\n                <tr key={user.id}>\r\n                  <td>{user.id}</td>\r\n                  <td>{user.name}</td>\r\n                  <td>{user.email}</td>\r\n                  <td>{user.dateOfBirth}</td>\r\n                  <td>\r\n                    <button\r\n                      className=\"btn btn-info\"\r\n                      onClick={() => DisplayDetails(user.id)}\r\n                    >\r\n                      View\r\n                    </button>\r\n                    <button\r\n                      className=\"btn btn-primary\"\r\n                      onClick={() => editDetails(user.id)}\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      className=\"btn btn-danger\"\r\n                      onClick={() => removedetail(user.id)}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Registration;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}